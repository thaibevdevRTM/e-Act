
@{
	Layout = null;
	//decimal? totalActCost = 0;
}

<script type="text/javascript">


    function onClickClose() {
        var url = '@Url.Action("Index", "BudgetApprove")';
        window.location.href = url;
    }

	function genPdf() {
	
		 $.ajax({
			url: '@Url.Action("genPdfApprove", "BudgetApprove")',
			data: {
				GridHtml: $("#Grid").html(),
				//statusId: $("#ddlStatus").val(),
				activityId: $("#hd_activityId").val()
			},
			dataType: "json",
			type: 'POST',
		}).done(function (response) {
			$("#WaitDialog").hide();
			console.log("genPdff");
			console.log('success');
			});
	}

</script>




<div class="row">
	<div>
		<div style="text-align:center;"><h5>รายละเอียดค่าใช้จ่าย ตั้งจ่ายจริง</h5></div>
	</div>

	<table class="table table-striped table-hover" id="datatable">
		<thead class="thead-dark">
			<tr style="background-color:#2B5D95;color:#ffffff;">
				<th class="align-content-center font12B" style="width:10%;"></th> @* button action *@
				<th class="align-content-center font12B" style="text-align:center;">ประเภทกิจกรรม</th>
				<th class="align-content-center font12B">กลุ่มสินค้า / ชื่อสินค้า</th>
				<th class="align-content-center font12B">จำนวนเงินตั้ง</th>
				<th class="align-content-center font12B">เลขที่ใบแจ้งหนี้</th>
				<th class="align-content-center font12B">เลขที่ใบสำคัญจ่าย</th>
				<th class="align-content-center font12B" style="text-align:right;">จำนวนเงินจ่าย</th>
				<th class="align-content-center font12B" style="text-align:right;">ผลต่าง-บาท(variance)</th>
				<th class="align-content-center font12B" style="text-align:center;">วันที่ทำรายการ</th>
				<th class="align-content-center font12B" style="text-align:center;">สถานะ</th>
			</tr>
		</thead>

		@*------------------------------------------------------------------------------------------------*@
		<tbody>
			@if (Model.Budget_Approve_list.Count > 0)
			{
				var index = 0;
				foreach (var item in Model.Budget_Approve_list)
				{
					<tr class="gradeX">
						<td style="text-align:center;">
							<a href="javascript:" class="anchorDetail btn ink-reaction btn-sm btn-info fa fa-edit" onclick="javascript:onSelectInvoice('@item.activityId','@item.activityOfEstimateId','@item.invoiceId');"></a>
							<a href="javascript:" target="_blank" onclick="return onDelete('@item.activityId','@item.activityOfEstimateId','@item.invoiceId','@item.invoiceNo');">
								<i class="btn ink-reaction btn-danger fa fa-trash-o"></i>&nbsp;
							</a>
						</td>

						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>

						<td></td>
						<td></td>
						<td></td>
						<td></td>

						@*<td style="font-size:12.5px;text-align:right;">
								@if (item.productStandBath != null)
								{
									string result = String.Format("{0:n2}", @item.productStandBath);
									@result.ToString();
								}
							</td>
							<td style="font-size:12.5px;text-align:center;">
								@if (item.invoiceNo != null)
								{
									string result = String.Format("{0:n2}", @item.invoiceNo);
									@result.ToString();
								}
							</td>
							<td style="font-size:12.5px;text-align:right;">
								@if (item.invoiceTotalBath != null)
								{
									string result = String.Format("{0:n2}", @item.invoiceTotalBath);
									@result.ToString();
								}
							</td>
							<td style="font-size:12.5px;text-align:right;">
								@if (item.productBalanceBath != null)
								{
									string result = String.Format("{0:n2}", @item.productBalanceBath);
									@result.ToString();
								}
							</td>

							<td style="font-size:12.5px;text-align:center;">@Html.DisplayFor(x => item.invoiceActionDate) </td>
							@if (item.invoiceBudgetStatusId == 1)
							{
								<td style="font-size:12.5px;text-align:center; color:firebrick;">@item.invoiceBudgetStatusNameTH</td>
							}
							else if (item.invoiceBudgetStatusId == 2)
							{
								<td style="font-size:12.5px;text-align:center; color:darkorange;">@item.invoiceBudgetStatusNameTH</td>
							}
							else
							{
								<td style="font-size:12.5px;text-align:center; color:forestgreen;">@item.invoiceBudgetStatusNameTH</td>
							}*@
					</tr>
					index++;
				}
			}
		</tbody>
		@*------------------------------------------------------------------------------------------------*@
	</table>
</div>

	@*<div>
		@if (Model.Budget_Activity_list != null)
		{
			@Html.Action("approvePositionSignatureLists", "Approve", new { actId = Model.Budget_Activity_list.ElementAt(0).act_form_id })
		}
	</div>*@



