@model eActForm.Models.Activity_TBMMKT_Model
@using eActForm.BusinessLayer
@using System.Configuration;
@using eActForm.Models;
@{
    Layout = null;
    decimal? perTotal = 0;
    decimal? totalActCost = 0;
    decimal? costActivity = 0;
    decimal? costProduct = 0;
    decimal? growthPerTotal = 0;
    decimal? sumGrowth = 0;
}

<div style="margin-top:5px; width:100%;">
    โครงสร้างราคา-ไม่รวม Vat(Product Cost - Bath Per Case)
</div>

<div>
    <table class="tablethin" style="width:100%; text-align:center;" border="1" cellpadding="0" cellspacing="0">
        <tr>
            <td rowspan="2" style="width:20%; font-size:12.5px;">ชื่อสินค้า (product Name)</td>
            <td rowspan="2" style="width:10%;  font-size:12.5px;">Std. Wholesales Price</td>
            <td colspan="3" style="width:20%;  font-size:12.5px;">Normal Discount (Baht)</td>
            <td style="width:10%;  font-size:12.5px;">Normal</td>
            <td style="width:10%;  font-size:12.5px;">Normal</td>
            <td style="width:10%;  font-size:12.5px;">Promotion</td>
            @if (Model.activityFormTBMMKT.typeForm != Activity_TBMMKT_Model.activityType.OMT.ToString())
            {
                <td style="width:10%;  font-size:12.5px;">Special</td>
                <td style="width:10%;  font-size:12.5px;">Promotion</td>
            }
        </tr>
        <tr>
            <td style="font-size:12.5px;">(1)</td>
            <td style="font-size:12.5px;">(2)</td>
            <td style="font-size:12.5px;">(3)</td>
            <td style="font-size:12.5px;">Cost</td>
            <td style="font-size:12.5px;">GP%</td>
            <td style="font-size:12.5px;">GP%</td>

            @if (Model.activityFormTBMMKT.typeForm != Activity_TBMMKT_Model.activityType.OMT.ToString())
            {
                if (Model.productcostdetaillist1.Any())
                {
                    if (Model.productcostdetaillist1[0].specialDiscBaht != 0)
                    {
                        <td style="font-size:12.5px;">Discount Baht</td>
                    }
                    else
                    {
                        <td style="font-size:12.5px;">Discount %</td>
                    }
                }
                else
                {
                    <td style="font-size:12.5px;">Discount %</td>
                }
                <td style="font-size:12.5px;">Cost (BHT)</td>
            }

        </tr>

        @if (Model.productcostdetaillist1.Any())
        {
            foreach (var item in Model.productcostdetaillist1)
            {
                <tr>
                    @if (item.isShowGroup == true)
                    {
                        <td class="font11 textLeft">@Html.DisplayFor(m => item.brandName)@Html.DisplayFor(m => item.size) ALL(@Html.DisplayFor(m => item.detailGroup.Count)) @Html.DisplayFor(m => item.pack) </td>
                    }
                    else
                    {
                        if (item.detailGroup.Count >= 1)
                        {
                            <td class="font11 textLeft">@Html.DisplayFor(m => item.detailGroup[0].productName) (@Html.DisplayFor(m => item.pack))</td>
                        }
                    }

                    <td class="font11 textRight">@Html.DisplayFor(m => item.wholeSalesPrice)</td>
                    <td class="font11 textRight">@Html.DisplayFor(m => item.disCount1)</td>
                    <td class="font11 textRight">@Html.DisplayFor(m => item.disCount2)</td>
                    <td class="font11 textRight">@Html.DisplayFor(m => item.disCount3)</td>
                    <td class="font11 textRight">@Html.DisplayFor(m => item.normalCost)</td>
                    <td class="font11 textRight">@Html.DisplayFor(m => item.normalGp)</td>
                    <td class="font11 textRight">@Html.DisplayFor(m => item.promotionGp)</td>

                    @if (Model.activityFormTBMMKT.typeForm != Activity_TBMMKT_Model.activityType.OMT.ToString())
                    {
                        if (item.specialDiscBaht != 0)
                        {
                            <td class="font11 textRight">@Html.DisplayFor(m => item.specialDiscBaht)</td>
                        }
                        else
                        {
                            <td class="font11 textRight">@Html.DisplayFor(m => item.specialDisc)</td>
                        }
                        <td class="font11 textRight">@Html.DisplayFor(m => item.promotionCost)</td>
                    }
                </tr>

            }
        }
    </table>
</div>


<div>
    <table style="border-bottom-width:1px; border-bottom-style: solid; border-bottom-color: gray; width:100%;"><tr><td>&nbsp;</td></tr></table>
</div>
