@model eActForm.Models.TB_Act_Product_Model.ProductList
@{
    var typeForm = Request.QueryString["typeForm"];
}

<div class="row">
    <div class="col-md-12 col-xs-12">

    </div>
    <div class="col-md-12 col-xs-12">

        <table id="datatable" class="table table-striped table-hover">
            <thead>
                <tr style="background-color:#2B5D95;color:#ffffff;">
                    <th width="80px"></th>
                    <th>ProductCode</th>
                    <th>Category</th>
                    <th>Group</th>
                    <th>Brand</th>
                    <th>ProductName</th>
                    <th>Size</th>
                    <th>Unit</th>
                    <th>Pack</th>
                    <th>IO</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.productLists)
                {
                    <tr class="gradeX">
                        <td>
                            <a href="javascript:" onclick="return $adminPage.onDelProduct('@item.productCode');">
                                <i class="btn ink-reaction btn-danger fa fa-trash-o"></i>&nbsp;&nbsp;
                            </a>
                            <a href="javascript:" onclick="return $adminPage.editProduct('@item.id','@item.productCode','@item.cateId','@item.groupId','@item.brandId','@item.size','@item.pack','@item.productName','@item.smellId','@item.unit','@item.digit_IO');">
                                <i class="btn ink-reaction btn-info fa fa-edit"></i>&nbsp;&nbsp;
                            </a>
                        </td>
                        <td><a href="javascript:" onclick="callPreviewData('@item.productCode','@typeForm');" style="cursor: pointer;"> @item.productCode </a></td>
                        <td>@item.productCate</td>
                        <td>@item.productGroup</td>
                        <td>@item.brand</td>
                        <td>@item.productName</td>
                        <td>@item.size</td>
                        <td>@item.unit</td>
                        <td>@item.pack</td>
                        <td>@item.digit_IO</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>


<div class="modal fade" id="divPreviewPriceModel" role="dialog" style="display:none">
    <div id="divPreviewPrice">
    </div>
</div>

<script>
    function callPreviewData(p_productCode, p_typeForm) {
        $("#WaitDialog").show();
        $.ajax({
            type: 'POST',
            url:  '@Url.Action("productPriceDetail", "Admin")',
            data: {
                productcode: p_productCode,
                typeForm: p_typeForm
            }
        }).done(function (htmlResponse) {
            $("#WaitDialog").hide();
            $("#divPreviewPrice").html(htmlResponse)
            $('#divPreviewPriceModel').modal('show');
        });
    }
</script>