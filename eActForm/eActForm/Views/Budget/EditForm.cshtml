@model eActForm.Models.Budget_Activity_Model
	@{
		ViewBag.Title = "Edit Page";
	}

	<link href="~/Content/jquery.datetimepicker.css" rel="stylesheet" />
	<script src="~/Scripts/jquery.datetimepicker.full.js"></script>
	<script src="~/Scripts/jquery-migrate-1.2.1.min.js"></script>
	<script src="~/Scripts/dropzone/dropzone.min.js"></script>
	<link href="~/Scripts/dropzone/dropzone.min.css" rel="stylesheet" />

	<style type="text/css">

		.my-bootbox-class .modal-dialog {
			width: 400px;
			font-size: 18px;
		}
	</style>

	<div class="alert alert-success" role="alert">
		<h4 class="alert-heading">แบบฟอร์มการขอทำกิจกรรมส่งเสริมการขาย : รายละเอียดค่าใช้จ่ายตั้งจ่ายจริง <br />กิจกรรมเลขที่ : @Session["activityNo"]  </h4>
		<p></p>
	</div>

	<table class="table table-striped table-hover" id="content">
		<thead class="thead-dark">
			<tr style="background-color:#2B5D95;color:#ffffff;">
				<th class="align-content-center font12B" </th>
				<th class="align-content-center font12B" style="width:10%;">ประเภทกิจกรรม</th>
				<th class="align-content-center font12B" style="width:20%;">กลุ่มสินค้า/ชื่อสินค้า/Remark</th>
				<th class="align-content-center font12B">จำนวนเงินที่ตั้ง</th>
				<th class="align-content-center font12B">เลขที่ใบแจ้งหนี้</th>
				<th class="align-content-center font12B">เลขที่ใบสำคัญจ่าย</th>
				<th class="align-content-center font12B">ยอดขายช่วงทำกิจกรรม case</th>
				<th class="align-content-center font12B">ยอดขายช่วงทำกิจกรรม bath</th>
				<th class="align-content-center font12B">จำนวนเงินจ่าย</th>
				<th class="align-content-center font12B">ผลต่าง-บาท</th>
				<th class="align-content-center font12B">วันที่ทำรายการ</th>
				<th class="align-content-center font12B">สถานะ</th>
			</tr>
		</thead>

		<tbody>
			@if (Model.Budget_Activity_Product_list.Count > 0)
			{
				var index = 0;
				foreach (var item in Model.Budget_Activity_Product_list)
				{
					<tr class="gradeX">
						<td>
							@*@using (Html.BeginForm("Index", "Home"))
							{
								@Html.ActionLink(" ", "EditForm", "Budget", new { activityId = item.act_activityFormId }, new { @class = "btn ink-reaction btn-default fa fa-btc" });
							}*@

							<div onclick="AddInvoiceitem()">
								<button type="button" class="btn ink-reaction btn-warning fa fa-btc" onclick="validate_invoice_submit()"></button>
							</div>

						</td>

						<td style="font-size:12.5px;">@item.act_typeTheme</td>
						<td style="font-size:12.5px;">@item.prd_productDetail</td>
						<td style="font-size:12.5px;text-align:right;">@item.totalCost</td>
						<td style="font-size:12.5px;">@item.invoiceNo</td>
						<td style="font-size:12.5px;">@item.paymentNo</td>
						<td style="font-size:12.5px;">@item.saleActCase</td>
						<td style="font-size:12.5px;">@item.saleActBath</td>
						<td style="font-size:12.5px;">@item.invTotalBath</td>
						<td style="font-size:12.5px;">@item.balanceBath</td>
						<td style="font-size:12.5px;">@*@Html.DisplayFor(x => item.actionDate)*@ </td>
						<td style="font-size:12.5px;">@item.bud_ActivityStatus</td>
					</tr>
					index++;
				}
			}
		</tbody>
	</table>


	<div class="modal fade" id="previewModal" role="dialog" style="display:none">
		<div id="divPreview">
			@Html.Action("PreviewBudgetInvoice", "Budget")
			test
		</div>
	</div>

	<script type="text/javascript">
		function validate_invoice_submit() {

			var required = "กรุณา ระบุ :<br>";
			var validate = true;
			//if ($("#txtdateDoc").val() == "") { required += "Document Date*<br>"; validate = false; }
			//if ($("#txtActivityName").val() == "") { required += "ชื่อกิจกรรม*<br>"; validate = false; }
			//if ($("#txtObjective").val() == "") { required += "วัตถุประสงค์*<br>"; validate = false; }
			//if ($("#ddlProductCate").val() == "0") { required += "Product category*<br>"; validate = false; }
			//if ($("#ddlProductGrp").val() == "0") { required += "กลุ่มสินค้า *<br>"; validate = false; }

			if (validate == true) {
				$("#previewModal").modal('show');
				//PreviewBudgetInvoice(response.ActivityId);
				//SubmitData();
				//bootbox.alert(required)
			}
			else {
				bootbox.alert(required)
			}
		}
	</script>